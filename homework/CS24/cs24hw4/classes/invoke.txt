# invoke:
# returns volume of passed object.
# args:
#     8(%ebp): object to get volume of.

.globl invoke

invoke:
  # push old base pointer and make current stack new base
  push %ebp
  mov  %esp, %ebp

  # The argument to this function is at 8(%ebp), and it is the object. Since the
  # first part of this object is the getVolume function pointer, it has an
  # offset of 0, so the getVolume function pointer is at 8(%ebp). Hence, all we
  # must do is call 8(%ebp).
  call 8(%ebp)

  # pop local stack and old base pointer
  mov  %ebp, %esp
  pop  %ebp
  ret
